syntax = "proto3";

package Solace.Compiled;

message Complex {
    double real = 1;
    double imag = 2;
}

message ComplexVector {
    repeated Complex entry = 1;
}

enum ObjectType {
    QUBITS = 0;
    QUANTUM_GATE = 1;
    SPARSE_QUANTUM_GATE = 2;
    QUANTUM_CIRCUIT = 3;
}

message QuantumObject {
    ObjectType type = 1;
    oneof object {
        Qubits qubits = 3;
        QuantumGate quantumGate = 4;
        SparseQuantumGate sparseQuantumGate = 5;
        QuantumCircuit quantumCircuit = 6;
    }
}

message Qubits {
    uint32 nQubit = 1;
    ComplexVector vector = 2;
}

message QuantumGate {
    uint32 nQubit = 1;
    repeated ComplexVector matrix = 2;
}

message SparseQuantumGate {
    uint32 nQubit = 1;
    repeated uint32 rowIndices = 2;
    repeated uint32 colIndices = 3;
    ComplexVector nonZeroVals = 4;
}

// This is only for circuits.
message QuantumCircuitGate {
    oneof gate {
        QuantumGate quantumGate = 1;
        SparseQuantumGate sparseQuantumGate = 2;
    }
}

message QuantumCircuitQubits {
    uint32 nQubitSets = 1;
    repeated uint32 appliedGates = 2;
    uint32 entangleTo = 3;
    repeated uint32 entangledFrom = 4;
}

message QuantumCircuit {
    repeated QuantumCircuitGate gate = 1;
    repeated QuantumCircuitQubits qubitSet = 2;
}
